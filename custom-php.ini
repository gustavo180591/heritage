; Custom PHP configuration to fix extension loading
; Disable automatic loading of extensions in PHP configuration directories
; and explicitly load only the required extensions once

disable_functions =
disable_classes =

; Disable loading of all extensions in conf.d directories
; and explicitly enable only what we need

; Core extensions
zend_extension=opcache.so

extension=dom.so
extension=SimpleXML.so
extension=pdo.so
extension=pdo_mysql.so
extension=json.so

extension=mysqli.so
extension=tokenizer.so
extension=ctype.so
extension=iconv.so
extension=session.so
extension=standard.so

; Disable all other extensions
; This prevents duplicate loading of extensions
disable_functions =
disable_classes =

; Increase memory limit
memory_limit = 512M

; Disable error display in production
display_errors = Off
display_startup_errors = Off

error_reporting = E_ALL & ~E_DEPRECATED & ~E_STRICT
log_errors = On

; Set timezone
date.timezone = UTC

; Disable dangerous functions
disable_functions = exec,passthru,shell_exec,system,proc_open,popen,curl_exec,curl_multi_exec,parse_ini_file,show_source

; Increase max execution time
max_execution_time = 300

; Increase max input time
max_input_time = 300

; Increase max input vars
max_input_vars = 3000

; Increase post max size
post_max_size = 100M

; Increase upload max filesize
upload_max_filesize = 100M

; Disable expose_php
expose_php = Off
